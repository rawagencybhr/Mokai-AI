(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{67:function(){},2061:function(){},7697:function(e,t,s){Promise.resolve().then(s.bind(s,4456))},4456:function(e,t,s){"use strict";s.d(t,{default:function(){return eT}});var a,l,n=s(7437),r=s(2265),o=s(2513),i=s(4817),c=s(4436),d=s(3550),x=s(2558),m=s(8954),u=s(6884),h=s(7019),p=s(5733),b=s(3953),g=s(2940),f=s(9832),j=s(3149),v=s(9321),N=s(472),y=s(8711),w=s(883),C=s(6649),D=s(205),S=s(8400),A=s(4697),E=s(2468),k=s(2584),I=s(6706),B=s(6127),T=s(7583),L=s(5931),z=s(9338),P=s(4129),U=s(3225),Z=s(1882),_=s(7800),O=s(1083);let F=async e=>{var t;let s=null===(t=e.name.split(".").pop())||void 0===t?void 0:t.toLowerCase();try{if("xlsx"===s||"xls"===s||"csv"===s)return await R(e);if("docx"===s)return await W(e);if("txt"===s)return await K(e);throw Error("Unsupported file type")}catch(e){throw console.error("File processing error:",e),e}},R=e=>new Promise((t,s)=>{let a=new FileReader;a.onload=a=>{try{var l;let s=new Uint8Array(null===(l=a.target)||void 0===l?void 0:l.result),n=_.ij(s,{type:"array"}),r="";n.SheetNames.forEach(e=>{let t=n.Sheets[e],s=_.P6.sheet_to_csv(t);r+="--- Sheet: ".concat(e," ---\n").concat(s,"\n\n")}),t({fileName:e.name,content:r,type:"excel"})}catch(e){s(e)}},a.onerror=s,a.readAsArrayBuffer(e)}),W=e=>new Promise((t,s)=>{let a=new FileReader;a.onload=a=>{var l;let n=null===(l=a.target)||void 0===l?void 0:l.result;O.FU({arrayBuffer:n}).then(s=>{t({fileName:e.name,content:s.value,type:"word"})}).catch(s)},a.onerror=s,a.readAsArrayBuffer(e)}),K=e=>new Promise((t,s)=>{let a=new FileReader;a.onload=s=>{var a;t({fileName:e.name,content:null===(a=s.target)||void 0===a?void 0:a.result,type:"text"})},a.onerror=s,a.readAsText(e)}),H=e=>{var t,s,a,l,_,O,R,W,K,H;let{bots:M,onSelectBot:G,onAddBot:Q,onUpdateBot:Y,onDeleteBot:X,onToggleBotStatus:V,onToggleBotListening:J,onLaunchClientApp:q}=e,{t:$,language:ee,toggleLanguage:et,dir:es}=(0,Z.Z)(),ea="rtl"===es,[el,en]=(0,r.useState)(""),[er,eo]=(0,r.useState)(!1),[ei,ec]=(0,r.useState)(1),[ed,ex]=(0,r.useState)(!1),[em,eu]=(0,r.useState)(!1),[eh,ep]=(0,r.useState)(null),[eb,eg]=(0,r.useState)({}),[ef,ej]=(0,r.useState)({botName:"",storeName:"",location:"",businessType:"",workHours:"",products:"",additionalInfo:"",toneValue:50}),ev=r.useRef(null),eN=e=>{e?(ep(e),ej(e),ec(1)):(ep(null),ec(1),ej({botName:"",storeName:"",location:"",businessType:"",workHours:"",products:"",additionalInfo:"",toneValue:50,platforms:["instagram"],plan:"starter",language:"ar"})),eo(!0)},ey=e=>{ep(e),ex(!0)},ew=e=>{ep(e),eu(!0)},eC=()=>{eh?Y({...eh,...ef}):Q({id:Math.max(...M.map(e=>e.id),0)+1,...ef,isActive:!0,createdAt:new Date().toISOString()}),eo(!1)},eD=async e=>{if(e.target.files&&e.target.files[0])try{let t=await F(e.target.files[0]);ej(e=>({...e,products:(e.products||"")+"\n[Data from ".concat(t.fileName,"]:\n").concat(t.content)})),alert($("fileProcessed"))}catch(e){console.error(e),alert("Error processing file")}},eS=e=>{eg(t=>({...t,[e]:!t[e]}))},eA=()=>{let e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",t=()=>[,,,,].fill(0).map(()=>e.charAt(Math.floor(Math.random()*e.length))).join("");return"RWB-".concat(t(),"-").concat(t())},eE=()=>{let e=eA();ej(t=>({...t,licenseKey:e}))},ek=e=>{let t=window.screen.width/2-300,s=window.screen.height/2-350;window.open("/api/instagram/oauth/start?botId=".concat(e),"Instagram Connect","width=".concat(600,",height=").concat(700,",top=").concat(s,",left=").concat(t))},eI=e=>{let t=window.screen.width/2-300,s=window.screen.height/2-350;window.open("/api/whatsapp/oauth/start?botId=".concat(e),"WhatsApp Connect","width=".concat(600,",height=").concat(700,",top=").concat(s,",left=").concat(t))},eB=e=>{navigator.clipboard.writeText(e)},eT=M.filter(e=>e.storeName.toLowerCase().includes(el.toLowerCase())||e.botName.toLowerCase().includes(el.toLowerCase()));return(0,n.jsxs)("div",{className:"min-h-screen bg-slate-50 font-sans",dir:es,children:[(0,n.jsxs)("header",{className:"bg-white border-b border-slate-200 py-4 px-6 flex justify-between items-center sticky top-0 z-10 shadow-sm",children:[(0,n.jsxs)("button",{onClick:()=>eN(),className:"bg-[#06b6d4] hover:bg-[#0891b2] text-white px-6 py-2.5 rounded-xl flex items-center gap-2 font-bold shadow-sm transition-all text-sm",children:[(0,n.jsx)(o.Z,{size:20}),$("addClient")]}),(0,n.jsxs)("div",{className:"hidden md:flex flex-1 max-w-md mx-6 relative",children:[(0,n.jsx)(i.Z,{className:"absolute top-1/2 -translate-y-1/2 text-slate-400 ".concat(ea?"right-3":"left-3"),size:18}),(0,n.jsx)("input",{value:el,onChange:e=>en(e.target.value),placeholder:$("searchPlaceholder"),className:"w-full bg-slate-100 border border-transparent focus:bg-white focus:border-cyan-400 rounded-xl py-2.5 px-10 outline-none transition-all text-sm text-slate-700 placeholder-slate-400 ".concat(ea?"text-right":"text-left")})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col ".concat(ea?"items-end":"items-start"),children:[(0,n.jsx)("h1",{className:"text-xl font-bold text-slate-900 tracking-tight",children:$("appName")}),(0,n.jsx)("p",{className:"text-xs text-slate-500 font-medium",children:$("appSubtitle")})]}),(0,n.jsxs)("button",{onClick:et,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-50 text-xs font-bold transition-colors",children:[(0,n.jsx)(c.Z,{size:14}),"ar"===ee?"EN":"عربي"]}),(0,n.jsx)("button",{className:"text-cyan-500 p-2.5 border border-cyan-100 rounded-full hover:bg-cyan-50 transition-colors",children:(0,n.jsx)(d.Z,{size:20})})]})]}),(0,n.jsx)("main",{className:"max-w-[1600px] mx-auto p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6",children:eT.map(e=>(0,n.jsxs)("div",{className:"bg-white rounded-3xl p-6 shadow-[0_2px_15px_-3px_rgba(0,0,0,0.07),0_10px_20px_-2px_rgba(0,0,0,0.04)] border border-slate-100 relative group hover:border-cyan-200 transition-all duration-300",children:[(0,n.jsx)("div",{onClick:()=>V(e.id),className:"absolute top-6 cursor-pointer transition-all p-2 rounded-full shadow-sm border ".concat(e.isActive?"bg-green-50 text-green-600 border-green-100 hover:bg-green-100":"bg-slate-100 text-slate-400 border-slate-200 hover:bg-slate-200"," ").concat(ea?"left-6":"right-6"),title:e.isActive?$("active"):$("inactive"),children:(0,n.jsx)(x.Z,{size:18})}),(0,n.jsxs)("div",{className:"flex items-start gap-4 mb-6",children:[(0,n.jsx)("div",{className:"w-14 h-14 bg-cyan-50 rounded-2xl flex items-center justify-center text-cyan-600 shadow-sm shrink-0",children:(0,n.jsx)(m.Z,{size:28,strokeWidth:1.5})}),(0,n.jsxs)("div",{className:"flex flex-col ".concat(ea?"items-start text-right":"items-start text-left"),children:[(0,n.jsx)("h3",{className:"text-lg font-bold text-slate-900 leading-tight mb-1",children:e.storeName}),(0,n.jsxs)("p",{className:"text-sm text-slate-500 font-medium",children:[$("assistant"),": ",e.botName]})]})]}),(0,n.jsxs)("div",{className:"bg-slate-50 rounded-xl p-3 mb-6 flex items-center justify-between border border-slate-100 hover:border-slate-200 transition-colors group/license",children:[(0,n.jsxs)("div",{className:"flex flex-col ".concat(ea?"items-start text-right":"items-start text-left"),children:[(0,n.jsx)("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-0.5",children:$("licenseKey")}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("p",{className:"text-sm font-mono text-slate-700 font-bold tracking-wide",children:eb[e.id]?e.licenseKey:"••••-••••-••••"})})]}),(0,n.jsxs)("div",{className:"flex gap-1",children:[(0,n.jsx)("button",{onClick:()=>eB(e.licenseKey),className:"text-slate-400 hover:text-cyan-600 p-1.5",title:$("copyLicense"),children:(0,n.jsx)(u.Z,{size:16})}),(0,n.jsx)("button",{onClick:()=>eS(e.id),className:"text-slate-400 hover:text-cyan-600 p-1.5",title:eb[e.id]?$("hideKey"):$("showKey"),children:eb[e.id]?(0,n.jsx)(h.Z,{size:16}):(0,n.jsx)(p.Z,{size:16})})]})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1.5 mb-2.5",children:[(0,n.jsx)(b.Z,{size:14,className:e.instagramConnected?"text-[#E1306C]":"text-slate-400"}),(0,n.jsx)("span",{className:"text-[11px] font-bold text-slate-600 uppercase tracking-wide",children:"Instagram"})]}),e.instagramConnected?(0,n.jsxs)("div",{className:"w-full bg-gradient-to-r from-[#833AB4] via-[#FD1D1D] to-[#F77737] text-white py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 shadow-sm",children:[(0,n.jsx)(g.Z,{size:18}),$("connected")]}):(0,n.jsxs)("button",{onClick:()=>ek(e.id),className:"w-full bg-slate-100 text-slate-400 hover:bg-slate-200 py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-colors grayscale hover:grayscale-0",children:[(0,n.jsx)(b.Z,{size:18}),$("connectInstagramBtn")]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1.5 mb-2.5",children:[(0,n.jsx)(f.Z,{size:14,className:e.whatsappConnected?"text-[#25D366]":"text-slate-400"}),(0,n.jsx)("span",{className:"text-[11px] font-bold text-slate-600 uppercase tracking-wide",children:"WhatsApp"})]}),e.whatsappConnected?(0,n.jsxs)("div",{className:"w-full bg-[#25D366] text-white py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 shadow-sm",children:[(0,n.jsx)(g.Z,{size:18}),e.whatsappPhoneNumber||$("connected")]}):(0,n.jsxs)("button",{onClick:()=>eI(e.id),className:"w-full bg-slate-100 text-slate-400 hover:bg-slate-200 py-3 rounded-xl text-sm font-bold flex items-center justify-center gap-2 transition-colors grayscale hover:grayscale-0",children:[(0,n.jsx)(f.Z,{size:18}),$("connectWhatsAppBtn")]})]}),(0,n.jsxs)("div",{className:"space-y-2 mb-6 border-t border-slate-50 pt-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2.5 text-slate-600 text-sm font-medium",children:[(0,n.jsx)(j.Z,{size:16,className:"text-slate-400"}),(0,n.jsx)("span",{children:e.businessType})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2.5 text-slate-600 text-sm font-medium",children:[(0,n.jsx)(v.Z,{size:16,className:"text-slate-400"}),(0,n.jsx)("span",{children:e.location})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between border-t border-slate-50 pt-5 mt-auto",children:[(0,n.jsxs)("button",{onClick:()=>G(e),className:"flex items-center gap-2 text-cyan-600 font-bold text-sm hover:bg-cyan-50 px-4 py-2 rounded-xl transition-colors group/chat",children:[(0,n.jsx)(N.Z,{size:20,className:"group-hover/chat:scale-110 transition-transform"}),$("testChat")]}),(0,n.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,n.jsx)("button",{onClick:()=>ew(e),className:"p-2 text-purple-500 hover:bg-purple-50 rounded-lg transition-colors",title:$("stats"),children:(0,n.jsx)(y.Z,{size:18})}),(0,n.jsx)("button",{onClick:()=>ey(e),className:"p-2 text-rose-400 hover:bg-rose-50 rounded-lg transition-colors",title:$("delete"),children:(0,n.jsx)(w.Z,{size:18})}),(0,n.jsx)("button",{onClick:()=>eN(e),className:"p-2 text-blue-400 hover:bg-blue-50 rounded-lg transition-colors",title:$("edit"),children:(0,n.jsx)(C.Z,{size:18})}),(0,n.jsx)("button",{onClick:()=>J(e.id),className:"p-2 rounded-lg transition-colors border ".concat(e.isListening?"text-white bg-orange-500 border-orange-600 shadow-sm animate-pulse":"text-slate-400 border-transparent hover:bg-slate-50"),title:e.isListening?$("listeningOn"):$("listeningOff"),children:(0,n.jsx)(D.Z,{size:18})}),(0,n.jsx)("button",{onClick:()=>q(e),className:"p-2 text-cyan-500 hover:bg-cyan-50 rounded-lg border border-cyan-100 hover:border-cyan-200 transition-colors",title:$("clientLink"),children:(0,n.jsx)(S.Z,{size:18})})]})]})]},e.id))}),er&&(0,n.jsx)("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-[2rem] w-full max-w-3xl shadow-2xl animate-in fade-in zoom-in duration-200 border border-slate-100 max-h-[90vh] overflow-hidden flex flex-col",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center px-8 py-6 border-b border-slate-100",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:$("wizardTitle")}),(0,n.jsx)("p",{className:"text-sm text-slate-400",children:$("step".concat(ei))})]}),(0,n.jsx)("button",{onClick:()=>eo(!1),className:"text-slate-400 hover:text-red-500 transition-colors",children:(0,n.jsx)(A.Z,{size:28})})]}),(0,n.jsxs)("div",{className:"px-8 py-4 bg-slate-50/50 flex items-center justify-between relative",children:[[1,2,3,4,5].map(e=>(0,n.jsxs)("div",{className:"z-10 flex flex-col items-center gap-2 ".concat(e<=ei?"text-cyan-600":"text-slate-300"),children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm transition-all ".concat(e===ei?"bg-cyan-500 text-white shadow-lg shadow-cyan-200 scale-110":e<ei?"bg-cyan-100 text-cyan-700":"bg-slate-200 text-slate-400"),children:e<ei?(0,n.jsx)(E.Z,{size:16}):e}),(0,n.jsx)("span",{className:"text-[10px] font-bold",children:$("step".concat(e))})]},e)),(0,n.jsx)("div",{className:"absolute top-[34px] left-10 right-10 h-1 bg-slate-200 -z-0",children:(0,n.jsx)("div",{className:"h-full bg-cyan-500 transition-all duration-300 ease-out",style:{width:"".concat((ei-1)/4*100,"%")}})})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[1===ei&&(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{id:"starter",price:"price15",color:"bg-emerald-50",border:"border-emerald-200",text:"text-emerald-700",feats:["featureIG","feature500","featureImgBasic"]},{id:"professional",price:"price30",color:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",feats:["featureIGWA","feature1500","featureImgAdv"]},{id:"growth",price:"price50",color:"bg-purple-50",border:"border-purple-200",text:"text-purple-700",feats:["featureIGWA","feature3000","featureImgUltra","featureSmartData"]}].map(e=>(0,n.jsxs)("div",{onClick:()=>ej({...ef,plan:e.id}),className:"relative cursor-pointer rounded-2xl p-6 border-2 transition-all ".concat(ef.plan===e.id?"".concat(e.border," ").concat(e.color," ring-2 ring-offset-2 ring-cyan-200"):"border-slate-100 hover:border-slate-200"),children:[ef.plan===e.id&&(0,n.jsx)("div",{className:"absolute top-3 right-3 text-cyan-600",children:(0,n.jsx)(g.Z,{size:20})}),(0,n.jsx)("h3",{className:"font-bold text-slate-800 mb-1",children:$("plan".concat(e.id.charAt(0).toUpperCase()+e.id.slice(1)))}),(0,n.jsx)("p",{className:"text-xl font-black mb-4 ".concat(e.text),children:$(e.price)}),(0,n.jsx)("ul",{className:"space-y-2 text-xs text-slate-600",children:e.feats.map(e=>(0,n.jsxs)("li",{className:"flex items-center gap-2",children:[(0,n.jsx)(E.Z,{size:12,className:"text-cyan-500"})," ",$(e)]},e))})]},e.id))}),2===ei&&(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,n.jsxs)("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:$("botName")}),(0,n.jsx)("input",{value:ef.botName,onChange:e=>ej({...ef,botName:e.target.value}),className:"w-full p-4 rounded-xl border border-slate-200 focus:border-cyan-400 outline-none transition-all ".concat(ea?"text-right":"text-left"),placeholder:$("botNamePlaceholder")})]}),(0,n.jsxs)("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:$("botLanguage")}),(0,n.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[{id:"ar",label:"langAr"},{id:"en",label:"langEn"},{id:"bi",label:"langBi"}].map(e=>(0,n.jsx)("button",{onClick:()=>ej({...ef,language:e.id}),className:"py-3 px-2 rounded-xl text-xs font-bold border transition-all ".concat(ef.language===e.id?"bg-cyan-500 text-white border-cyan-500 shadow-md":"bg-white text-slate-600 border-slate-200 hover:border-cyan-200"),children:$(e.label)},e.id))})]}),(0,n.jsxs)("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100",children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-4",children:$("botTone")}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("span",{className:"text-sm font-bold text-slate-500",children:$("toneFriendly")}),(0,n.jsx)("input",{type:"range",min:"0",max:"100",value:ef.toneValue||50,onChange:e=>ej({...ef,toneValue:Number(e.target.value)}),className:"flex-1 h-3 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cyan-500"}),(0,n.jsx)("span",{className:"text-sm font-bold text-slate-500",children:$("toneFormal")})]})]})]}),3===ei&&(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:$("storeName")}),(0,n.jsx)("input",{value:ef.storeName,onChange:e=>ej({...ef,storeName:e.target.value}),className:"w-full p-4 rounded-xl border border-slate-200 focus:border-cyan-400 outline-none bg-slate-50 ".concat(ea?"text-right":"text-left"),placeholder:$("storeNamePlaceholder")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:$("businessType")}),(0,n.jsx)("input",{value:ef.businessType,onChange:e=>ej({...ef,businessType:e.target.value}),className:"w-full p-4 rounded-xl border border-slate-200 focus:border-cyan-400 outline-none bg-slate-50 ".concat(ea?"text-right":"text-left"),placeholder:$("businessTypePlaceholder")})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:$("location")}),(0,n.jsx)("input",{value:ef.location,onChange:e=>ej({...ef,location:e.target.value}),className:"w-full p-4 rounded-xl border border-slate-200 focus:border-cyan-400 outline-none bg-slate-50 ".concat(ea?"text-right":"text-left"),placeholder:$("locationPlaceholder")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:$("workHours")}),(0,n.jsx)("input",{value:ef.workHours,onChange:e=>ej({...ef,workHours:e.target.value}),className:"w-full p-4 rounded-xl border border-slate-200 focus:border-cyan-400 outline-none bg-slate-50 ".concat(ea?"text-right":"text-left"),placeholder:$("workHoursPlaceholder")})]})]})]}),4===ei&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:$("products")}),(0,n.jsx)("textarea",{value:ef.products,onChange:e=>ej({...ef,products:e.target.value}),className:"w-full p-4 rounded-xl border border-slate-200 focus:border-cyan-400 outline-none h-32 resize-none bg-slate-50 ".concat(ea?"text-right":"text-left"),placeholder:$("productsPlaceholder")})]}),(0,n.jsxs)("div",{className:"border-2 border-dashed border-slate-300 rounded-2xl p-8 text-center hover:bg-slate-50 transition-colors",children:[(0,n.jsx)(k.Z,{size:40,className:"mx-auto text-cyan-500 mb-4"}),(0,n.jsx)("h3",{className:"font-bold text-slate-700 mb-1",children:$("uploadData")}),(0,n.jsx)("p",{className:"text-xs text-slate-400 mb-4",children:$("uploadHint")}),(0,n.jsx)("button",{onClick:()=>{var e;return null===(e=ev.current)||void 0===e?void 0:e.click()},className:"bg-white border border-slate-200 text-slate-600 px-6 py-2 rounded-xl text-sm font-bold hover:border-cyan-400 hover:text-cyan-600 transition-colors",children:$("uploadData")}),(0,n.jsx)("input",{type:"file",ref:ev,className:"hidden",accept:".xlsx,.xls,.csv,.docx,.txt",onChange:eD})]})]}),5===ei&&(0,n.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-8 border border-slate-100 text-center space-y-4",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-cyan-100 text-cyan-600 rounded-full flex items-center justify-center mx-auto shadow-sm",children:(0,n.jsx)(m.Z,{size:40})}),(0,n.jsx)("h3",{className:"text-2xl font-bold text-slate-800",children:ef.botName}),(0,n.jsxs)("p",{className:"text-slate-500",children:[ef.storeName," - ",ef.businessType]}),(0,n.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mt-4",children:[(0,n.jsx)("span",{className:"bg-white border border-slate-200 px-3 py-1 rounded-full text-xs text-slate-600",children:ef.location}),(0,n.jsx)("span",{className:"bg-white border border-slate-200 px-3 py-1 rounded-full text-xs text-slate-600",children:ef.workHours}),(0,n.jsxs)("span",{className:"bg-white border border-slate-200 px-3 py-1 rounded-full text-xs text-slate-600",children:["Tone: ",ef.toneValue]}),(0,n.jsx)("span",{className:"bg-white border border-slate-200 px-3 py-1 rounded-full text-xs text-slate-600 uppercase",children:ef.language})]}),(0,n.jsxs)("button",{onClick:()=>eE(),className:"text-cyan-600 text-sm font-bold underline mt-4 flex items-center gap-1 mx-auto",children:[(0,n.jsx)(I.Z,{size:14}),$("generateKey")]}),(0,n.jsx)("p",{className:"font-mono text-sm bg-slate-200 px-4 py-2 rounded-lg inline-block mt-2",children:ef.licenseKey||"RWB-????-????"})]})]}),(0,n.jsxs)("div",{className:"mt-auto px-8 py-6 border-t border-slate-100 flex justify-between bg-white rounded-b-[2rem]",children:[(0,n.jsx)("button",{onClick:()=>ec(e=>Math.max(1,e-1)),disabled:1===ei,className:"px-6 py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-50 disabled:opacity-50 transition-colors",children:$("back")}),(0,n.jsx)("button",{onClick:()=>{ei<5?ec(e=>e+1):eC()},className:"bg-cyan-500 hover:bg-cyan-600 text-white px-8 py-3 rounded-xl font-bold transition-all shadow-lg shadow-cyan-100",children:5===ei?$("finish"):$("next")})]})]})}),ed&&eh&&(0,n.jsx)("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-3xl p-8 w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200 text-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,n.jsx)(B.Z,{size:32})}),(0,n.jsx)("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:$("deleteTitle")}),(0,n.jsx)("p",{className:"text-slate-500 mb-8",children:$("deleteMessage",{name:eh.storeName})}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:()=>{eh&&(X(eh.id),ex(!1),ep(null))},className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-3 rounded-xl font-bold transition-colors",children:$("confirmDelete")}),(0,n.jsx)("button",{onClick:()=>ex(!1),className:"flex-1 bg-slate-100 hover:bg-slate-200 text-slate-700 py-3 rounded-xl font-bold transition-colors",children:$("cancel")})]})]})}),em&&eh&&(0,n.jsx)("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-[2.5rem] p-8 w-full max-w-4xl shadow-2xl animate-in fade-in zoom-in duration-200 border border-slate-100 max-h-[90vh] overflow-y-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold text-slate-900",children:$("performanceReport")}),(0,n.jsx)("p",{className:"text-slate-500 text-sm",children:$("statsSubtitle",{name:eh.storeName})})]}),(0,n.jsx)("button",{onClick:()=>eu(!1),className:"bg-slate-50 p-2 rounded-full hover:bg-slate-100",children:(0,n.jsx)(A.Z,{size:24,className:"text-slate-400"})})]}),(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[{label:"totalConversations",value:(null===(t=eh.stats)||void 0===t?void 0:t.totalConversations)||0,icon:T.Z,color:"text-cyan-600",bg:"bg-cyan-50",border:"border-cyan-100"},{label:"analyzedImages",value:(null===(s=eh.stats)||void 0===s?void 0:s.analyzedImages)||0,icon:p.Z,color:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100"},{label:"generatedImages",value:(null===(a=eh.stats)||void 0===a?void 0:a.generatedImages)||0,icon:L.Z,color:"text-purple-600",bg:"bg-purple-50",border:"border-purple-100"},{label:"customerSatisfaction",value:((null===(l=eh.stats)||void 0===l?void 0:l.customerSatisfaction)||5)+"/5",icon:z.Z,color:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100"}].map((e,t)=>(0,n.jsxs)("div",{className:"rounded-2xl p-4 border ".concat(e.bg," ").concat(e.border),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2 ".concat(e.color),children:[(0,n.jsx)(e.icon,{size:18}),(0,n.jsx)("span",{className:"text-xs font-bold uppercase",children:$(e.label)})]}),(0,n.jsx)("p",{className:"text-2xl font-black text-slate-800",children:e.value})]},t))}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[(0,n.jsxs)("h4",{className:"font-bold text-slate-700 mb-4 flex items-center gap-2",children:[(0,n.jsx)(P.Z,{size:18})," ",$("topQuestions")]}),(0,n.jsx)("div",{className:"space-y-3",children:((null===(_=eh.stats)||void 0===_?void 0:_.topQuestions)||[]).length>0?null===(R=eh.stats)||void 0===R?void 0:null===(O=R.topQuestions)||void 0===O?void 0:O.map((e,t)=>(0,n.jsxs)("div",{className:"bg-white p-3 rounded-xl border border-slate-100 text-sm text-slate-600 shadow-sm flex gap-3",children:[(0,n.jsxs)("span",{className:"font-bold text-cyan-500",children:["#",t+1]})," ",e]},t)):(0,n.jsx)("p",{className:"text-slate-400 text-sm",children:$("noData")})})]}),(0,n.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-6 border border-slate-100",children:[(0,n.jsxs)("h4",{className:"font-bold text-slate-700 mb-4 flex items-center gap-2",children:[(0,n.jsx)(U.Z,{size:18})," ",$("topProducts")]}),(0,n.jsx)("div",{className:"space-y-3",children:((null===(W=eh.stats)||void 0===W?void 0:W.topProducts)||[]).length>0?null===(H=eh.stats)||void 0===H?void 0:null===(K=H.topProducts)||void 0===K?void 0:K.map((e,t)=>(0,n.jsxs)("div",{className:"flex justify-between items-center bg-white p-3 rounded-xl border border-slate-100 shadow-sm",children:[(0,n.jsx)("span",{className:"text-sm font-medium text-slate-700",children:e}),(0,n.jsxs)("span",{className:"bg-cyan-100 text-cyan-700 text-xs px-2 py-1 rounded-full font-bold",children:["#",t+1]})]},t)):(0,n.jsx)("p",{className:"text-slate-400 text-sm",children:$("noData")})})]})]})]})})]})};(a=l||(l={})).USER="user",a.AGENT="agent",a.SYSTEM="system";let M=e=>{let{message:t}=e;if(t.sender===l.SYSTEM)return(0,n.jsx)("div",{className:"flex w-full mb-4 justify-center",children:(0,n.jsxs)("div",{className:"bg-slate-100 border border-slate-200 text-slate-500 text-xs px-3 py-1 rounded-full shadow-sm",children:["توجيه للنظام: ",t.text]})});let s=t.sender===l.USER;return(0,n.jsx)("div",{className:"flex w-full mb-4 ".concat(s?"justify-start":"justify-end"),children:(0,n.jsxs)("div",{className:"flex flex-col max-w-[85%] md:max-w-[70%] rounded-2xl p-4 shadow-sm relative border ".concat(s?"bg-cyan-600 text-white border-cyan-500 rounded-tr-none":"bg-white text-slate-800 border-slate-200 rounded-tl-none"),children:[(0,n.jsx)("span",{className:"text-[10px] font-bold mb-1 opacity-80 ".concat(s?"text-cyan-100":"text-cyan-600"),children:s?"أنت":"مستشار RAWBOT"}),t.imageUrl&&(0,n.jsx)("div",{className:"mb-3 rounded-lg overflow-hidden border ".concat(s?"border-white/20":"border-slate-200"),children:(0,n.jsx)("img",{src:t.imageUrl,alt:"User uploaded",className:"w-full h-auto object-cover max-h-64"})}),(0,n.jsx)("div",{className:"whitespace-pre-wrap leading-relaxed text-sm md:text-base",children:t.text}),(0,n.jsx)("span",{className:"text-[10px] mt-2 self-end ".concat(s?"text-cyan-100":"text-slate-400"),children:t.timestamp.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"})})]})})},G=()=>(0,n.jsx)("div",{className:"flex w-full mb-4 justify-end",children:(0,n.jsxs)("div",{className:"bg-white text-slate-900 border border-slate-100 rounded-2xl rounded-tl-none p-4 shadow-sm flex items-center space-x-1 space-x-reverse",children:[(0,n.jsx)("span",{className:"text-xs font-bold text-slate-500 ml-2",children:"جاري الكتابة..."}),(0,n.jsx)("div",{className:"w-2 h-2 bg-brand-400 rounded-full animate-bounce [animation-delay:-0.3s]"}),(0,n.jsx)("div",{className:"w-2 h-2 bg-brand-400 rounded-full animate-bounce [animation-delay:-0.15s]"}),(0,n.jsx)("div",{className:"w-2 h-2 bg-brand-400 rounded-full animate-bounce"})]})});var Q=s(1077),Y=s(6780),X=s(5430);let V=e=>{let{isOpen:t,storeContext:s,setStoreContext:a,pendingAction:l,onClose:r}=e;return t?(0,n.jsx)("div",{className:"fixed inset-y-0 right-0 w-80 bg-white shadow-2xl z-50 transform transition-transform duration-300 ease-in-out overflow-y-auto border-l border-slate-200",children:(0,n.jsxs)("div",{className:"p-5",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"لوحة التاجر \uD83D\uDEE0️"}),(0,n.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-red-500",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),l&&(0,n.jsxs)("div",{className:"border rounded-xl p-4 mb-6 animate-pulse ".concat("HOT_LEAD"===l.type?"bg-green-50 border-green-200 ring-2 ring-green-100":"DISCOUNT_REQUEST"===l.type?"bg-orange-50 border-orange-200":"bg-brand-50 border-brand-200"),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 font-bold mb-2 ".concat("HOT_LEAD"===l.type?"text-green-800":"DISCOUNT_REQUEST"===l.type?"text-orange-800":"text-brand-800"),children:["HOT_LEAD"===l.type?(0,n.jsx)(Q.Z,{className:"w-5 h-5"}):"DISCOUNT_REQUEST"===l.type?(0,n.jsx)(Y.Z,{className:"w-5 h-5"}):(0,n.jsx)(X.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:"HOT_LEAD"===l.type?"\uD83D\uDD25 عميل جاهز للشراء!":"DISCOUNT_REQUEST"===l.type?"العميل يطلب خصم!":"استفسار غير معروف"})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-700 mb-3",children:["HOT_LEAD"===l.type?"المساعد حول العميل لك للإغلاق.":"رسالة العميل:"," ",(0,n.jsxs)("span",{className:"font-semibold",children:['"',l.userMessage,'"']})]}),(0,n.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-gray-100 text-xs text-gray-600",children:[(0,n.jsx)("p",{className:"font-bold mb-1",children:"كيف أرد؟"}),(0,n.jsxs)("p",{children:["اكتب ردك مباشرة في خانة الشات وابدأ بـ علامة ",(0,n.jsx)("code",{children:"!"})]}),(0,n.jsx)("p",{className:"mt-1 text-gray-400",children:"أمثلة:"}),(0,n.jsx)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:"HOT_LEAD"===l.type?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsx)("code",{children:"! أرسل رابط الدفع 500 ريال"})}),(0,n.jsx)("li",{children:(0,n.jsx)("code",{children:"! اطلب منه الموقع ورقم الجوال"})})]}):"DISCOUNT_REQUEST"===l.type?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsx)("code",{children:"! وافق على خصم 20 دينار"})}),(0,n.jsx)("li",{children:(0,n.jsx)("code",{children:"! قله السعر نهائي بس بنعطيه مخدات"})})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsx)("code",{children:"! نعم نفصل طاولات حسب الطلب"})}),(0,n.jsx)("li",{children:(0,n.jsx)("code",{children:"! لا هذا المنتج مخلص حالياً"})})]})}),(0,n.jsx)("p",{className:"mt-2 text-brand-600 font-bold",children:"المساعد راح ياخذ معلومتك ويصيغها بأسلوب بياع."})]})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"تحديثات المحل (المخزون):"}),(0,n.jsx)("textarea",{value:s,onChange:e=>a(e.target.value),className:"w-full h-40 p-3 rounded-xl border border-slate-300 text-sm focus:ring-2 focus:ring-brand-400 outline-none resize-none",placeholder:"اكتب هنا البضاعة الجديدة، أو الأشياء المخلصة.."}),(0,n.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-500",children:[(0,n.jsx)("span",{children:"\uD83D\uDCA1 تلميح:"}),(0,n.jsxs)("span",{children:["تقدر تحدث المخزون وأنت في الشات بكتابة ",(0,n.jsx)("code",{children:"! وصلنا كنب جديد"})]})]})]})]})}):null};var J=s(973);let q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return e<=25?"\uD83C\uDFAD الأسلوب (ودّي جداً - خوي):\n    - تكلم بعفوية تامة وكأنك صديق للعميل.\n    - استخدم عبارات مثل: (من عيوني، ولا يهمك، أبشر بعزك، يا هلا والله).\n    - كن مرناً وبسيطاً جداً في الكلام.":e>=75?"\uD83C\uDFAD الأسلوب (رسمي جداً):\n    - تكلم باحترافية عالية واحترام بالغ.\n    - استخدم عبارات مثل: (حضرتك، طال عمرك، يسعدنا خدمتكم).\n    - تجنب الكلمات العامية المفرطة، كن دقيقاً وموجزاً.":"\uD83C\uDFAD الأسلوب (بائع محترف - متوازن):\n    - خليط بين الاحترام والود.\n    - استخدم (يا غالي، أبشر، تمام).\n    - ركز على إتمام البيعة بذكاء وبدون تكلف."},$=e=>"en"===e?"\uD83C\uDF0D **Language Rule:** You MUST reply in ENGLISH ONLY. Even if the user speaks Arabic, reply in professional English.":"bi"===e?"\uD83C\uDF0D **Language Rule:** You are BILINGUAL. \n    - If the user speaks Arabic, reply in Arabic (Khaleeji dialect).\n    - If the user speaks English, reply in English.\n    - Match the user's language immediately.":"\uD83C\uDF0D **Language Rule:** لغتك الأساسية هي العربية (اللهجة الخليجية البيضاء/السعودية).",ee=function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l="";return l=-1===a?'1️⃣ **التحية والتعريف (أول رسالة فقط):**\n     - ابدأ بالرسالة الافتتاحية الإجبارية: "حياك الله \uD83D\uDC4B أنا المساعد الذكي، اسمي '.concat(e.botName,'..".\n     - بعدها مباشرة جاوب على استفساره.'):a>48?'1️⃣ **الذاكرة (عودة عميل بعد فترة):**\n     - العميل غاب أكثر من 48 ساعة ورجع.\n     - رحب به ترحيب "العائد" (يا هلا فيك مرة ثانية، نورتنا..، حياك الله من جديد).\n     - \uD83D\uDEAB **ممنوع تعرف بنفسك أبداً**. هو يعرفك. لا تتعامل كأنك غريب.\n     - ادخل في الموضوع مباشرة.':"1️⃣ **السياق (محادثة مستمرة):**\n     - \uD83D\uDEAB **ممنوع التحية** (لا تقل هلا، ولا سلام، ولا مرحباً).\n     - \uD83D\uDEAB **ممنوع التعريف بنفسك**.\n     - اعتبر الرسالة الحالية تكملة للجملة السابقة. جاوب فوراً بدون أي مقدمات.\n     - كن عملياً جداً.",'\nأنت "'.concat(e.botName,'"، المساعد الذكي الخاص بـ (').concat(e.storeName,").\nصفتك: ذكي، لماح، محترف.\n\n").concat($(e.language),"\n\nالمصادر الوحيدة لمعلوماتك:\n- النشاط: ").concat(e.businessType,"\n- المنتجات: ").concat(e.products,"\n- ساعات العمل: ").concat(e.workHours,"\n- الموقع: ").concat(e.location,"\n- ملاحظات: ").concat(e.additionalInfo,"\n- تحديثات فورية من المالك: ").concat(t||"لا يوجد","\n- الذاكرة المكتسبة: ").concat(e.learnedObservations&&e.learnedObservations.length>0?e.learnedObservations.join(" | "):"لا يوجد",'\n\n---\n\n⚡ **قواعد الرد الذكي (البروتوكول الصارم):**\nيجب أن يكون ردك دائماً في "رسالة واحدة فقط" ومترابطة.\n\n').concat(l,'\n\n2️⃣ **حجم الرد (الذكاء البلاغي):**\n   - **قاعدة ذهبية:** الرد على قدر السؤال.\n   - إذا سأل سؤال قصير (بكم؟ وينكم؟) -> جاوب بكلمتين وبس. (مثال: "بـ 50 ريال طال عمرك"). لا تسرد قصائد.\n   - إذا سأل تفاصيل دقيقة -> جاوب بتفصيل وافي ومرتب.\n   - لا تكن جافاً، ولا ثرثاراً. كن "بائع محترف" يعرف قيمة الوقت.\n\n3️⃣ **القرار الذكي (الرد):**\n   - **الحالة أ (سؤال واضح):** جاوب مباشرة بناءً على البيانات.\n   - **الحالة ب (صورة/غموض):** قل "وصلتني الصورة.. تفضل وش حاب تستفسر عنه؟".\n\n4️⃣ **استراتيجية الإغلاق (Sales Handoff Strategy):**\n   - أنت مساعد مبيعات ولست "الكاشير".\n   - **الهدف:** إيصال العميل لمرحلة الشراء ثم تسليمه للمالك.\n   - **متى تحول العميل؟** إذا شعرت أن العميل جاد (وافق على السعر، قال "تم"، سأل "كيف أدفع"، أو أبدى رغبة مؤكدة للشراء).\n   - **كيف تتصرف؟** لا تتصرف من تلقاء نفسك. أقنعه بالانتظار قليلاً.\n   - **السيناريو الإجباري:** قل له جملة بمعناها: "اختيار ممتاز! عشان نخدمك ونتمم الطلب بسرعة، بحولك الآن للمالك/المسؤول يكمل معاك الإجراءات حالاً."\n   - ثم اختم الرد بـ الرمز: [[REQ_HANDOFF]]\n   - هذا الرمز سيطلق جرس عند المالك ليدخل المحادثة.\n\n---\n\n\uD83D\uDEAB **ممنوعات:**\n- لا تكرر التعريف بنفسك نهائياً بعد المرة الأولى.\n- لا تطلب إعادة الإرسال.\n- لا تخترع معلومات.\n\n').concat(q(e.toneValue),"\n\n\uD83D\uDD75️ **تحليل العميل:**\nالعميل: ").concat((null==s?void 0:s.fullName)||"غير معروف",'. طابق أسلوبك معه.\n\n⚙️ **أوامر النظام:**\n- سؤال مستحيل؟ رد بـ "[[UNKNOWN_QUERY]]".\n- طلب خصم؟ رد بـ "[[REQ_DISCOUNT]]".\n- عميل جاهز للشراء؟ رد بـ "[[REQ_HANDOFF]]".\n')};var et=s(357);let es=()=>et.env.GOOGLE_API_KEY||et.env.NEXT_PUBLIC_GOOGLE_API_KEY,ea=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=es();if(!s)throw Error("API Key not found. Please set GOOGLE_API_KEY.");return new J.$D(s).getGenerativeModel({model:"gemini-2.5-flash"}).startChat({history:[{role:"user",parts:[{text:e}]},...t],generationConfig:{temperature:.7,topK:40,topP:.95}})},el=async function(e,t,s,a){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"image/jpeg";try{let r;let o=s.filter(e=>(e.sender===l.USER||e.sender===l.AGENT)&&e.text&&""!==e.text.trim()).slice(-10).map(e=>({role:e.sender===l.USER?"user":"model",parts:[{text:e.text}]})),i=ea(t,o);if(a){let t=a.split(",")[1]||a;r=[{text:e},{inlineData:{mimeType:n,data:t}}]}else r=e;return(await i.sendMessage(r)).response.text()||"المعذرة، ما فهمت عليك."}catch(e){var r;if(console.error("Gemini API Error:",e),429===e.status||(null===(r=e.message)||void 0===r?void 0:r.includes("429")))return"⚠️ عذراً، تجاوزنا حد الاستخدام المسموح. يرجى المحاولة لاحقاً.";return"آسف، واجهت مشكلة بسيطة في الشبكة. ممكن تعيد؟"}},en=e=>new Promise((t,s)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(a.result),a.onerror=e=>s(e)});var er=s(5236),eo=s(9842),ei=s(357);let ec={apiKey:ei.env.NEXT_PUBLIC_FIREBASE_API_KEY||"AIzaSyCQCT7jSJQYJYBhFIVapgpBQOhenUDs3K4",authDomain:ei.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"mokai-bot.firebaseapp.com",projectId:ei.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"mokai-bot",storageBucket:ei.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"mokai-bot.firebasestorage.app",messagingSenderId:ei.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"28722487944",appId:ei.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:28722487944:web:0183b2afc0ef7d021e753d",measurementId:ei.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-MC2P6DLV9N"},ed=(0,er.C6)().length?(0,er.Mq)():(0,er.ZF)(ec),ex=(0,eo.ad)(ed),em="bots",eu=()=>{let e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789",t=()=>[,,,,].fill(0).map(()=>e.charAt(Math.floor(Math.random()*e.length))).join("");return"RWB-".concat(t(),"-").concat(t())},eh={getAllBots:async()=>{try{let e=await (0,eo.PL)((0,eo.hJ)(ex,em));if(e.empty)return[];return e.docs.map(e=>e.data())}catch(e){return console.error("Error connecting to Firestore:",e),[]}},createBot:async e=>{e.stats={totalConversations:0,activeConversations:0,newClients:0,avgResponseTime:"0 ثانية",avgConversationDuration:"0 دقيقة",topProducts:[],peakHours:"--",botResolutionRate:100,interventionRate:0,customerSatisfaction:5,topQuestions:[],analyzedImages:0,generatedImages:0,healthScore:100,spamRate:"0%",riskLevel:"Low",...e.stats},e.isActive=!0,e.isListening=!1,e.learnedObservations=[],e.tone=e.tone||"friendly",e.plan=e.plan||"starter",e.language=e.language||"ar",e.licenseKey=eu(),e.isActivated=!1,e.toneValue=e.toneValue||50,e.useEmoji=!0;let t=new Date;return t.setFullYear(t.getFullYear()+1),e.subscriptionEndDate=t.toISOString(),e.instagramConnected=!1,e.whatsappConnected=!1,await (0,eo.pl)((0,eo.JU)(ex,em,e.id.toString()),e),e},updateBot:async e=>{let t=(0,eo.JU)(ex,em,e.id.toString());return await (0,eo.r7)(t,{...e}),e},updatePendingAction:async(e,t)=>{let s=(0,eo.JU)(ex,em,e.toString());await (0,eo.r7)(s,{pendingAction:t})},activateBot:async e=>{let t=(0,eo.JU)(ex,em,e.toString());await (0,eo.r7)(t,{isActivated:!0,activationDate:new Date().toISOString()})},deleteBot:async e=>{await (0,eo.oe)((0,eo.JU)(ex,em,e.toString()))},toggleBotStatus:async e=>{let t=(0,eo.JU)(ex,em,e.toString()),s=await (0,eo.QT)(t);if(s.exists()){let e=s.data();await (0,eo.r7)(t,{isActive:!e.isActive})}},toggleBotListening:async e=>{let t=(0,eo.JU)(ex,em,e.toString()),s=await (0,eo.QT)(t);if(s.exists()){let e=s.data();await (0,eo.r7)(t,{isListening:!e.isListening})}}};var ep=s(5153),eb=s(2022),eg=s(4258),ef=s(8062),ej=s(8604),ev=s(994);let eN={id:"u123",username:"ahmed_vip",fullName:"أحمد محمد",isVip:!0,pastOrdersCount:5},ey=e=>{let{bot:t,onBack:s}=e,[a,o]=(0,r.useState)([]),[i,c]=(0,r.useState)(""),[d,x]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)(""),[b,g]=(0,r.useState)(null),[f,j]=(0,r.useState)(eN),v=(0,r.useRef)(null),N=(0,r.useRef)(null),y=()=>{var e;null===(e=v.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{y()},[a]);let w=async()=>{if(!i.trim()&&!b||d)return;let e=i.startsWith("!"),s={id:Date.now().toString(),text:i,sender:e?l.SYSTEM:l.USER,timestamp:new Date,imageUrl:b?await en(b):void 0};o(e=>[...e,s]),c(""),g(null),x(!0);try{let n=e?"".concat(h,"\n[توجيه مباشر من المالك]: ").concat(i.substring(1)):h,r=ee(t,n,f),c=await el(e?"ننفذ التوجيه...":s.text,r,a,s.imageUrl),d=c,x=null;if(c.includes("[[REQ_HANDOFF]]")?(x={id:Date.now().toString(),type:"HOT_LEAD",userMessage:i},d=c.replace("[[REQ_HANDOFF]]","").trim(),u(!0)):c.includes("[[REQ_DISCOUNT]]")?(x={id:Date.now().toString(),type:"DISCOUNT_REQUEST",userMessage:i},d=c.replace("[[REQ_DISCOUNT]]","").trim(),u(!0)):c.includes("[[UNKNOWN_QUERY]]")&&(x={id:Date.now().toString(),type:"UNKNOWN_QUERY",userMessage:i},d=c.replace("[[UNKNOWN_QUERY]]","").trim(),u(!0)),x&&await eh.updatePendingAction(t.id,x),d){let e={id:(Date.now()+1).toString(),text:d,sender:l.AGENT,timestamp:new Date};o(t=>[...t,e])}}catch(e){console.error(e),o(e=>[...e,{id:Date.now().toString(),text:"حدث خطأ في الاتصال، حاول مرة أخرى.",sender:l.AGENT,timestamp:new Date}])}finally{x(!1)}};return(0,n.jsxs)("div",{className:"flex h-screen bg-slate-100 overflow-hidden relative",children:[(0,n.jsxs)("div",{className:"flex-1 flex flex-col h-full w-full max-w-5xl mx-auto bg-white shadow-xl md:rounded-2xl md:my-4 md:h-[95vh] overflow-hidden",children:[(0,n.jsxs)("header",{className:"bg-white border-b border-slate-200 p-4 flex justify-between items-center z-10 shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:s,className:"p-2 hover:bg-slate-50 rounded-full text-slate-500 transition-colors",children:(0,n.jsx)(ep.Z,{size:24})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{className:"font-bold text-slate-800 flex items-center gap-2",children:[t.botName,(0,n.jsx)("span",{className:"bg-cyan-100 text-cyan-700 text-[10px] px-2 py-0.5 rounded-full border border-cyan-200",children:"تجربة"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-1 text-xs text-slate-500 mt-0.5",children:[(0,n.jsx)(eb.Z,{size:12,className:"text-purple-500"}),(0,n.jsxs)("span",{children:["يتحدث مع: ",(0,n.jsx)("span",{className:"font-bold text-slate-700",children:(null==f?void 0:f.fullName)||"زائر مجهول"})]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("button",{onClick:()=>o([]),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"مسح المحادثة",children:(0,n.jsx)(I.Z,{size:20})}),(0,n.jsxs)("button",{onClick:()=>u(!m),className:"flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-bold transition-all ".concat(m?"bg-cyan-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"),children:[(0,n.jsx)(eg.Z,{size:18}),(0,n.jsx)("span",{className:"hidden md:inline",children:"لوحة التحكم"})]})]})]}),(0,n.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 bg-[#f8fafc] space-y-4",style:{backgroundImage:"radial-gradient(#e2e8f0 1px, transparent 1px)",backgroundSize:"20px 20px"},children:[0===a.length&&(0,n.jsxs)("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 gap-4 opacity-50",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-slate-200 rounded-full flex items-center justify-center",children:(0,n.jsx)(ef.Z,{size:40})}),(0,n.jsxs)("p",{children:["ابدأ المحادثة لتجربة ذكاء ",t.botName]})]}),a.map(e=>(0,n.jsx)(M,{message:e},e.id)),d&&(0,n.jsx)(G,{}),(0,n.jsx)("div",{ref:v})]}),(0,n.jsxs)("div",{className:"bg-white border-t border-slate-200 p-4",children:[b&&(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2 bg-slate-50 p-2 rounded-lg w-fit border border-slate-200",children:[(0,n.jsx)("span",{className:"text-xs text-slate-600 truncate max-w-[150px]",children:b.name}),(0,n.jsx)("button",{onClick:()=>g(null),className:"text-slate-400 hover:text-red-500",children:(0,n.jsx)(eg.Z,{size:14,className:"rotate-45"})})]}),(0,n.jsxs)("div",{className:"flex items-end gap-2 relative",children:[(0,n.jsx)("button",{onClick:()=>{var e;return null===(e=N.current)||void 0===e?void 0:e.click()},className:"p-3 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 rounded-xl transition-colors mb-0.5",children:(0,n.jsx)(ej.Z,{size:24})}),(0,n.jsx)("input",{type:"file",ref:N,className:"hidden",accept:"image/*",onChange:e=>{var t;(null===(t=e.target.files)||void 0===t?void 0:t[0])&&g(e.target.files[0])}}),(0,n.jsx)("div",{className:"flex-1 bg-slate-100 rounded-2xl border border-transparent focus-within:border-cyan-400 focus-within:bg-white focus-within:ring-4 focus-within:ring-cyan-50 transition-all flex items-center",children:(0,n.jsx)("textarea",{value:i,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),w())},placeholder:"اكتب رسالتك هنا... (أو ! لتوجيه المساعد)",className:"w-full bg-transparent border-none focus:ring-0 resize-none max-h-32 min-h-[50px] py-3 px-4 text-slate-700 placeholder-slate-400",rows:1})}),(0,n.jsxs)("button",{onClick:w,disabled:!i.trim()&&!b||d,className:"p-3 rounded-xl mb-0.5 transition-all shadow-sm ".concat((i.trim()||b)&&!d?"bg-cyan-500 text-white hover:bg-cyan-600 hover:shadow-md hover:scale-105":"bg-slate-200 text-slate-400 cursor-not-allowed"),children:[(0,n.jsx)(ev.Z,{size:24,className:d?"opacity-0":""}),d&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"})})]})]}),(0,n.jsxs)("p",{className:"text-[10px] text-slate-400 text-center mt-2",children:["\uD83D\uDCA1 تلميح: ابدأ رسالتك بـ ",(0,n.jsx)("code",{children:"!"})," لإعطاء توجيه خفي للمساعد (مثال: ! وافق على الخصم)"]})]})]}),(0,n.jsx)(V,{isOpen:m,storeContext:h,setStoreContext:p,pendingAction:t.pendingAction||null,onClose:()=>u(!1)})]})};var ew=s(7390),eC=s(2023),eD=s(2092),eS=s(6141),eA=s(7592),eE=s(4086),ek=s(9687);let eI=e=>{let{className:t="",width:s=40,height:a=40}=e;return(0,n.jsxs)("svg",{width:s,height:a,viewBox:"0 0 100 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"logoGradient",x1:"0",y1:"30",x2:"100",y2:"30",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#06b6d4"})," ",(0,n.jsx)("stop",{offset:"100%",stopColor:"#1e3a8a"})," "]})}),(0,n.jsx)("rect",{x:"2",y:"2",width:"96",height:"56",rx:"28",stroke:"url(#logoGradient)",strokeWidth:"6",fill:"white"}),(0,n.jsx)("rect",{x:"10",y:"10",width:"80",height:"40",rx:"20",fill:"url(#logoGradient)",fillOpacity:"0.1"}),(0,n.jsx)("circle",{cx:"35",cy:"30",r:"6",fill:"url(#logoGradient)"}),(0,n.jsx)("circle",{cx:"50",cy:"30",r:"6",fill:"url(#logoGradient)"}),(0,n.jsx)("circle",{cx:"65",cy:"30",r:"6",fill:"url(#logoGradient)"})]})},eB=e=>{var t;let{bot:s,onUpdateBot:a,onExit:l}=e,{t:o,dir:i,language:d,setLanguage:m}=(0,Z.Z)(),[u,h]=(0,r.useState)("dashboard"),[p,j]=(0,r.useState)(""),[v,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[S,A]=(0,r.useState)(s.additionalInfo||""),[E,I]=(0,r.useState)(s.toneValue||50),[B,T]=(0,r.useState)(null===(t=s.useEmoji)||void 0===t||t),[L,z]=(0,r.useState)(s.isActive?s.isListening?"listening":"active":"off"),[P,U]=(0,r.useState)({botName:s.botName,storeName:s.storeName,location:s.location,workHours:s.workHours,locationUrl:s.locationUrl||"",country:s.country||""}),_=(0,r.useRef)(null),O=async()=>{p&&(C(!0),N(!1),p.replace(/[^a-zA-Z0-9]/g,"").toLowerCase()===s.licenseKey.replace(/[^a-zA-Z0-9]/g,"").toLowerCase()?(await eh.activateBot(s.id),a({...s,isActivated:!0,activationDate:new Date().toISOString()})):N(!0),C(!1))},R=async()=>{let e={...s,additionalInfo:S};await eh.updateBot(e),a(e),alert(o("saveChanges"))},W=async e=>{if(e.target.files&&e.target.files[0]){let t=e.target.files[0];try{let e=await F(t),l={...s,knowledgeBase:(s.knowledgeBase||"")+"\n[File: ".concat(t.name,"]\n").concat(e.content),lastUploadedFileName:t.name};await eh.updateBot(l),a(l),alert(o("fileProcessed"))}catch(e){console.error(e),alert("Error processing file")}}},K=async e=>{z(e);let t=!1,l=!1;"active"===e?(t=!0,l=!1):"listening"===e?(t=!0,l=!0):t=!1;let n={...s,isActive:t,isListening:l};await eh.updateBot(n),a(n)},H=async e=>{I(e);let t={...s,toneValue:e};await eh.updateBot(t),a(t)},M=async()=>{let e=!B;T(e);let t={...s,useEmoji:e};await eh.updateBot(t),a(t)},G=async()=>{let e={...s,...P};await eh.updateBot(e),a(e),h("dashboard")};return s.isActivated?(0,n.jsxs)("div",{className:"min-h-screen bg-slate-50 font-sans pb-20",dir:i,children:[(0,n.jsxs)("header",{className:"bg-white px-6 py-4 flex justify-between items-center sticky top-0 z-20 shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-cyan-100 text-cyan-700 rounded-full flex items-center justify-center font-bold text-lg",children:s.storeName.charAt(0)}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"font-bold text-slate-900 text-sm",children:s.botName}),(0,n.jsx)("p",{className:"text-[10px] text-slate-400 font-medium",children:s.storeName})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("button",{onClick:()=>h("support"),className:"text-slate-400 hover:text-cyan-600",children:(0,n.jsx)(ew.Z,{size:24})}),(0,n.jsx)("button",{onClick:()=>h("settings"),className:"text-slate-400 hover:text-cyan-600",children:(0,n.jsx)(eg.Z,{size:24})})]})]}),(0,n.jsxs)("main",{className:"p-4 space-y-4 max-w-lg mx-auto",children:[(0,n.jsxs)("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100",children:[(0,n.jsxs)("h2",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[(0,n.jsx)(eC.Z,{size:18,className:"text-cyan-500"}),o("dashInstructionsTitle")]}),(0,n.jsx)("textarea",{value:S,onChange:e=>A(e.target.value),placeholder:o("dashInstructionsPlaceholder"),className:"w-full h-24 bg-slate-50 border border-slate-200 rounded-xl p-3 text-sm focus:border-cyan-400 outline-none resize-none mb-3"}),(0,n.jsx)("button",{onClick:R,className:"w-full bg-slate-800 text-white py-3 rounded-xl text-sm font-bold shadow-md hover:bg-slate-900 transition-colors",children:o("dashSaveInstructions")})]}),(0,n.jsxs)("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100",children:[(0,n.jsxs)("h2",{className:"font-bold text-slate-800 mb-3 flex items-center gap-2",children:[(0,n.jsx)(k.Z,{size:18,className:"text-cyan-500"}),o("dashUploadTitle")]}),(0,n.jsxs)("div",{onClick:()=>{var e;return null===(e=_.current)||void 0===e?void 0:e.click()},className:"border-2 border-dashed border-slate-300 rounded-xl p-6 text-center cursor-pointer hover:bg-slate-50 transition-colors",children:[(0,n.jsx)(k.Z,{size:32,className:"mx-auto text-slate-300 mb-2"}),(0,n.jsx)("p",{className:"text-sm text-slate-600 font-bold",children:o("dashUploadDrag")}),(0,n.jsx)("p",{className:"text-[10px] text-slate-400 mt-1",children:o("dashUploadFormats")}),(0,n.jsx)("input",{ref:_,type:"file",className:"hidden",accept:".xlsx,.xls,.csv,.docx,.pdf",onChange:W})]}),s.lastUploadedFileName&&(0,n.jsxs)("p",{className:"text-xs text-slate-500 mt-3 flex items-center gap-1",children:[(0,n.jsx)(g.Z,{size:12,className:"text-green-500"}),o("dashLastFile")," ",(0,n.jsx)("span",{className:"font-bold text-slate-700",children:s.lastUploadedFileName})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100",children:[(0,n.jsxs)("h2",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,n.jsx)(eD.Z,{size:18,className:"text-cyan-500"}),o("dashBehaviorTitle")]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"flex justify-between text-xs font-bold text-slate-500 mb-2",children:[(0,n.jsx)("span",{children:o("dashToneLabel")}),(0,n.jsx)("span",{className:"text-cyan-600",children:E<30?o("toneFriendly"):E>70?o("toneFormal"):"متوازن"})]}),(0,n.jsx)("input",{type:"range",min:"0",max:"100",value:E,onChange:e=>H(Number(e.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-bold text-slate-800",children:o("dashEmojiLabel")}),(0,n.jsx)("p",{className:"text-[10px] text-slate-400",children:o("dashEmojiDesc")})]}),(0,n.jsx)("button",{onClick:M,className:"w-12 h-6 rounded-full p-1 transition-colors ".concat(B?"bg-cyan-500":"bg-slate-300"),children:(0,n.jsx)("div",{className:"w-4 h-4 bg-white rounded-full shadow-sm transform transition-transform ".concat(B?"rtl"===i?"-translate-x-6":"translate-x-6":"")})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-bold text-slate-800 mb-2",children:o("dashBotMode")}),(0,n.jsx)("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[{id:"active",label:"modeActive",icon:x.Z,color:"bg-white text-green-600 shadow-sm"},{id:"listening",label:"modeListening",icon:D.Z,color:"bg-white text-orange-500 shadow-sm"},{id:"off",label:"modeOff",icon:x.Z,color:"bg-white text-red-500 shadow-sm"}].map(e=>(0,n.jsxs)("button",{onClick:()=>K(e.id),className:"flex-1 py-2 rounded-lg text-xs font-bold flex items-center justify-center gap-1 transition-all ".concat(L===e.id?e.color:"text-slate-400 hover:text-slate-600"),children:[(0,n.jsx)(e.icon,{size:14})," ",o(e.label)]},e.id))}),(0,n.jsx)("p",{className:"text-[10px] text-slate-400 mt-2 text-center",children:o("mode".concat(L.charAt(0).toUpperCase()+L.slice(1),"Desc"))})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-3xl p-5 shadow-sm border border-slate-100",children:[(0,n.jsxs)("h2",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[(0,n.jsx)(eS.Z,{size:18,className:"text-cyan-500"}),o("dashChannels")]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,n.jsxs)("div",{className:"p-3 rounded-2xl border flex flex-col items-center text-center ".concat(s.instagramConnected?"bg-purple-50 border-purple-100":"bg-slate-50 border-slate-100 grayscale"),children:[(0,n.jsx)(b.Z,{className:"mb-2 ".concat(s.instagramConnected?"text-[#E1306C]":"text-slate-400"),size:24}),(0,n.jsx)("span",{className:"text-xs font-bold text-slate-700",children:"Instagram"}),(0,n.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full mt-1 ".concat(s.instagramConnected?"bg-purple-100 text-purple-700":"bg-slate-200 text-slate-500"),children:s.instagramConnected?o("channelActive"):o("channelInactive")})]}),(0,n.jsxs)("div",{className:"p-3 rounded-2xl border flex flex-col items-center text-center ".concat(s.whatsappConnected?"bg-green-50 border-green-100":"bg-slate-50 border-slate-100 grayscale"),children:[(0,n.jsx)(f.Z,{className:"mb-2 ".concat(s.whatsappConnected?"text-[#25D366]":"text-slate-400"),size:24}),(0,n.jsx)("span",{className:"text-xs font-bold text-slate-700",children:"WhatsApp"}),(0,n.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full mt-1 ".concat(s.whatsappConnected?"bg-green-100 text-green-700":"bg-slate-200 text-slate-500"),children:s.whatsappConnected?o("channelActive"):o("channelInactive")})]})]}),(0,n.jsx)("p",{className:"text-[10px] text-slate-400 text-center mt-3",children:o("contactSupport")})]}),(0,n.jsxs)("button",{onClick:()=>alert("Stats view mocked"),className:"w-full bg-slate-50 border border-slate-200 text-slate-600 py-3 rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-slate-100",children:[(0,n.jsx)(y.Z,{size:18}),o("stats")]})]}),"settings"===u&&(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>h("dashboard")}),(0,n.jsxs)("div",{className:"relative w-full max-w-sm bg-white h-full shadow-2xl animate-in slide-in-from-right duration-300 p-6 overflow-y-auto",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:o("settingsTitle")}),(0,n.jsx)("button",{onClick:()=>h("dashboard"),className:"p-2 bg-slate-50 rounded-full",children:(0,n.jsx)(eA.Z,{size:20,className:"rtl"===i?"rotate-180":""})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6 pb-6 border-b border-slate-100",children:[(0,n.jsxs)("label",{className:"text-sm font-bold text-slate-600 flex items-center gap-2",children:[(0,n.jsx)(c.Z,{size:18,className:"text-cyan-500"}),o("appLanguage")]}),(0,n.jsxs)("div",{className:"flex bg-slate-100 p-1 rounded-xl",children:[(0,n.jsx)("button",{onClick:()=>m("ar"),className:"px-4 py-1.5 rounded-lg text-xs font-bold transition-all ".concat("ar"===d?"bg-white text-cyan-600 shadow-sm":"text-slate-400"),children:"العربية"}),(0,n.jsx)("button",{onClick:()=>m("en"),className:"px-4 py-1.5 rounded-lg text-xs font-bold transition-all ".concat("en"===d?"bg-white text-cyan-600 shadow-sm":"text-slate-400"),children:"English"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,n.jsx)("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mb-3 border-2 border-dashed border-slate-300",children:(0,n.jsx)(k.Z,{size:32,className:"text-slate-400"})}),(0,n.jsx)("button",{className:"text-xs text-cyan-600 font-bold underline",children:o("uploadLogo")})]}),(0,n.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,n.jsx)("h3",{className:"font-bold text-slate-700 text-sm border-b pb-2",children:o("storeData")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:o("botName")}),(0,n.jsx)("input",{value:P.botName,onChange:e=>U({...P,botName:e.target.value}),className:"w-full p-3 bg-slate-50 rounded-xl text-sm outline-none focus:ring-2 focus:ring-cyan-100"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:o("storeName")}),(0,n.jsx)("input",{value:P.storeName,onChange:e=>U({...P,storeName:e.target.value}),className:"w-full p-3 bg-slate-50 rounded-xl text-sm outline-none focus:ring-2 focus:ring-cyan-100"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:o("location")}),(0,n.jsx)("input",{value:P.location,onChange:e=>U({...P,location:e.target.value}),className:"w-full p-3 bg-slate-50 rounded-xl text-sm outline-none focus:ring-2 focus:ring-cyan-100"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:o("locationUrl")}),(0,n.jsx)("input",{value:P.locationUrl,onChange:e=>U({...P,locationUrl:e.target.value}),className:"w-full p-3 bg-slate-50 rounded-xl text-sm outline-none focus:ring-2 focus:ring-cyan-100",placeholder:"https://maps.google.com/..."})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-xs font-bold text-slate-500 mb-1",children:o("country")}),(0,n.jsxs)("select",{value:P.country,onChange:e=>U({...P,country:e.target.value}),className:"w-full p-3 bg-slate-50 rounded-xl text-sm outline-none focus:ring-2 focus:ring-cyan-100 appearance-none",children:[(0,n.jsx)("option",{value:"",children:o("selectCountry")}),(0,n.jsx)("option",{value:"saudi",children:o("saudi")}),(0,n.jsx)("option",{value:"kuwait",children:o("kuwait")}),(0,n.jsx)("option",{value:"uae",children:o("uae")}),(0,n.jsx)("option",{value:"bahrain",children:o("bahrain")}),(0,n.jsx)("option",{value:"qatar",children:o("qatar")}),(0,n.jsx)("option",{value:"oman",children:o("oman")}),(0,n.jsx)("option",{value:"egypt",children:o("egypt")}),(0,n.jsx)("option",{value:"jordan",children:o("jordan")})]})]})]}),(0,n.jsxs)("div",{className:"space-y-3 bg-slate-50 p-4 rounded-2xl mb-8",children:[(0,n.jsx)("h3",{className:"font-bold text-slate-700 text-sm border-b pb-2 border-slate-200",children:o("subInfo")}),(0,n.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,n.jsx)("span",{className:"text-slate-500",children:o("clientId")}),(0,n.jsxs)("span",{className:"font-mono font-bold text-slate-700",children:["2026-",s.id.toString().padStart(4,"0")]})]}),(0,n.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,n.jsx)("span",{className:"text-slate-500",children:o("subDate")}),(0,n.jsx)("span",{className:"font-bold text-slate-700",children:new Date(s.createdAt).toLocaleDateString()})]}),(0,n.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,n.jsx)("span",{className:"text-slate-500",children:o("expDate")}),(0,n.jsx)("span",{className:"font-bold text-slate-700",children:new Date(s.subscriptionEndDate).toLocaleDateString()})]})]}),(0,n.jsx)("button",{onClick:G,className:"w-full bg-cyan-600 text-white py-4 rounded-xl font-bold shadow-lg",children:o("saveChanges")})]})]}),"support"===u&&(0,n.jsxs)("div",{className:"fixed inset-0 z-50 flex justify-end",children:[(0,n.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>h("dashboard")}),(0,n.jsxs)("div",{className:"relative w-full max-w-sm bg-white h-full shadow-2xl animate-in slide-in-from-right duration-300 p-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-slate-800",children:o("supportTitle")}),(0,n.jsx)("button",{onClick:()=>h("dashboard"),className:"p-2 bg-slate-50 rounded-full",children:(0,n.jsx)(eA.Z,{size:20,className:"rtl"===i?"rotate-180":""})})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("button",{className:"w-full bg-green-50 text-green-700 p-4 rounded-2xl flex items-center gap-3 font-bold border border-green-100",children:[(0,n.jsx)(f.Z,{size:24})," ",o("contactWhatsapp")]}),(0,n.jsxs)("button",{className:"w-full bg-blue-50 text-blue-700 p-4 rounded-2xl flex items-center gap-3 font-bold border border-blue-100",children:[(0,n.jsx)(eE.Z,{size:24})," ",o("sendEmail")]}),(0,n.jsxs)("button",{className:"w-full bg-slate-50 text-slate-700 p-4 rounded-2xl flex items-center gap-3 font-bold border border-slate-200",children:[(0,n.jsx)(ek.Z,{size:24})," ",o("faq")]})]})]})]})]}):(0,n.jsxs)("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6 text-center",dir:i,children:[(0,n.jsx)("div",{className:"mb-8 animate-pulse",children:(0,n.jsx)(eI,{width:120,height:80})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:o("activationTitle")}),(0,n.jsx)("p",{className:"text-slate-500 mb-8 max-w-xs mx-auto text-sm",children:o("activationDesc")}),(0,n.jsxs)("div",{className:"w-full max-w-xs space-y-4",children:[(0,n.jsx)("input",{type:"text",value:p,onChange:e=>j(e.target.value.toUpperCase()),placeholder:"XXXX-XXXX-XXXX",className:"w-full p-4 text-center text-xl font-mono tracking-widest border-2 border-slate-200 rounded-2xl focus:border-cyan-500 outline-none uppercase",maxLength:15}),v&&(0,n.jsx)("p",{className:"text-red-500 text-sm font-bold",children:o("activationError")}),(0,n.jsx)("button",{onClick:O,disabled:w||p.length<5,className:"w-full bg-cyan-600 hover:bg-cyan-700 text-white py-4 rounded-2xl font-bold shadow-lg transition-transform active:scale-95 disabled:opacity-50",children:w?"...":o("activationBtn")})]})]})};var eT=()=>{let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)("admin"),[l,o]=(0,r.useState)([]),[i,c]=(0,r.useState)(!0),[d,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{c(!0);try{let e=await eh.getAllBots();o(e);{let s=new URLSearchParams(window.location.search).get("botId");if(s){let l=e.find(e=>e.id===Number(s));l&&(t(l),a("client"),x(!0))}}}catch(e){console.error("Failed to load app data",e)}finally{c(!1)}})()},[]);let m=async()=>{if(!d)try{let e=await eh.getAllBots();o(e)}catch(e){console.error("Failed to load bots",e)}},u=async e=>{await eh.createBot(e),m()},h=async s=>{await eh.updateBot(s),o(e=>e.map(e=>e.id===s.id?s:e)),e&&e.id===s.id&&t(s)},p=async e=>{await eh.deleteBot(e),m()},b=async e=>{await eh.toggleBotStatus(e),m()},g=async e=>{await eh.toggleBotListening(e),m()},f=()=>{if(d){window.location.reload();return}t(null),a("admin"),m()};return i?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 border-4 border-brand-600 border-t-transparent rounded-full animate-spin"}),(0,n.jsx)("p",{className:"text-gray-500 font-medium",children:"جاري تحميل البيانات..."})]})}):"chat"===s&&e?(0,n.jsx)(ey,{bot:e,onBack:f}):"client"===s&&e?(0,n.jsx)(eB,{bot:e,onUpdateBot:h,onExit:f}):d&&!e?(0,n.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-100 p-4 text-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"الرابط غير صالح"}),(0,n.jsx)("p",{className:"text-slate-500",children:"لم يتم العثور على المساعد المطلوب. قد يكون تم حذفه أو إيقافه."})]}):(0,n.jsx)(H,{bots:l,onSelectBot:e=>{t(e),a("chat")},onLaunchClientApp:e=>{t(e),a("client")},onAddBot:u,onUpdateBot:h,onDeleteBot:p,onToggleBotStatus:b,onToggleBotListening:g})}},1882:function(e,t,s){"use strict";s.d(t,{LanguageProvider:function(){return o},Z:function(){return i}});var a=s(7437),l=s(2265);let n={ar:{appName:"RAWBOT Operations",appSubtitle:"لوحة إدارة المساعدين الذكيين",addClient:"تسجيل عميل جديد",searchPlaceholder:"بحث عن بوت أو متجر...",assistant:"المساعد",licenseKey:"كود التفعيل (LICENSE KEY)",showKey:"إظهار",hideKey:"إخفاء",generateKey:"توليد كود جديد",connectInstagramBtn:"ربط حساب انستغرام",connectWhatsAppBtn:"ربط حساب واتساب",connected:"متصل بنجاح",notConnected:"غير متصل",testChat:"تجربة الشات",stats:"الإحصائيات",delete:"حذف",edit:"تعديل",listeningOn:"وضع الاستماع (نشط)",listeningOff:"تفعيل الاستماع",clientLink:"رابط العميل",copyLicense:"نسخ",active:"نشط",inactive:"متوقف",regenerate:"تحديث الكود",wizardTitle:"إعداد مساعد ذكي جديد",step1:"الباقة",step2:"الهوية",step3:"النشاط",step4:"المعرفة",step5:"مراجعة",next:"التالي",back:"السابق",finish:"حفظ وإنشاء",planStarter:"الباقة الأساسية",planPro:"الباقة الاحترافية",planGrowth:"الباقة المميزة",price15:"15 دينار",price30:"30 دينار",price50:"50 دينار",featureIG:"Instagram فقط",featureIGWA:"Instagram + WhatsApp",feature500:"500 محادثة",feature1500:"1500 محادثة",feature3000:"3000 محادثة",featureImgBasic:"تحليل صور أساسي",featureImgAdv:"تحليل صور متقدم",featureImgUltra:"تحليل صور Ultra",featureSmartData:"بيانات ذكية وتقارير",selectPlan:"اختيار الباقة",selected:"تم الاختيار",storeName:"اسم المتجر",storeNamePlaceholder:"مثال: مطعم الشيف",botName:"اسم المساعد",botNamePlaceholder:"مثال: سارة",businessType:"نوع النشاط",businessTypePlaceholder:"مطعم، أثاث، عيادة...",location:"العنوان/المدينة",locationPlaceholder:"الرياض، العليا...",workHours:"أوقات العمل",workHoursPlaceholder:"9 صباحاً - 11 مساءً",products:"المنتجات والخدمات",productsPlaceholder:"اكتب المنتجات هنا أو ارفع ملف...",uploadData:"رفع ملفات بيانات (Excel, PDF, Word)",uploadHint:"سيقوم البوت بقراءة الملف وفهم محتوياته تلقائياً.",fileProcessed:"تم تحليل الملف بنجاح ✅",settingsSection:"الإعدادات",botTone:"شخصية البوت",toneFriendly:"ودود",toneFormal:"رسمي",botLanguage:"لغة التحدث",langAr:"العربية فقط",langEn:"English Only",langBi:"ثنائي اللغة (Arabic & English)",performanceReport:"لوحة التحليلات المتقدمة \uD83D\uDCCA",statsSubtitle:"إحصائيات شاملة لـ {name}",totalConversations:"المحادثات",analyzedImages:"صور تم تحليلها",generatedImages:"صور تم توليدها",customerSatisfaction:"رضا العملاء",topQuestions:"الأسئلة الأكثر تكراراً",topProducts:"المنتجات الأكثر طلباً",peakHours:"أوقات الذروة",peakHoursLabel:"بتوقيت المتجر",noData:"لا توجد بيانات كافية",activationTitle:"تفعيل البوت",activationDesc:"من فضلك أدخل كود التفعيل المكوّن من 12 حرفًا ورقمًا الذي وصلك من فريق الدعم.",activationBtn:"تفعيل البوت",activationError:"كود التفعيل غير صحيح",dashInstructionsTitle:"أوامر وتعليمات للبوت",dashInstructionsPlaceholder:"اكتب هنا التعليمات العامة للبوت مثل طريقة الترحيب، سياسة الخصم، أسلوب الرد على الشكاوى...",dashSaveInstructions:"حفظ الأوامر",dashUploadTitle:"تحميل بيانات المتجر",dashUploadDrag:"اسحب الملف هنا أو اضغط لاختيار ملف",dashUploadFormats:"الصيغ المدعومة: Excel, CSV, Word, PDF",dashLastFile:"آخر ملف مرفوع:",dashBehaviorTitle:"إعدادات سلوك البوت",dashToneLabel:"أسلوب البوت في الرد",dashToneCurrent:"الأسلوب الحالي:",dashEmojiLabel:"استخدام الإيموجي في الردود",dashEmojiDesc:"اسمح للبوت باستخدام إيموجي مناسب مع الردود.",dashBotMode:"حالة البوت",modeActive:"تشغيل",modeListening:"استماع",modeOff:"إيقاف",modeActiveDesc:"البوت يرد تلقائيًا على العملاء.",modeListeningDesc:"لا يرد، فقط يتعلم من المحادثات.",modeOffDesc:"البوت متوقف تماماً.",dashChannels:"حالة قنوات التواصل",channelActive:"مفعّل",channelInactive:"غير مفعّل",contactSupport:"للتفعيل تواصل مع الدعم",settingsTitle:"الإعدادات",uploadLogo:"رفع الشعار",storeData:"بيانات المتجر والبوت",subInfo:"بيانات الاشتراك",clientId:"رقم العميل",subDate:"تاريخ الاشتراك",expDate:"تاريخ الانتهاء",supportTitle:"الدعم والمساعدة",contactWhatsapp:"التواصل عبر واتساب",sendEmail:"إرسال بريد للدعم",faq:"الأسئلة الشائعة",saveChanges:"حفظ التغييرات",locationUrl:"رابط الموقع (Google Maps)",country:"الدولة",appLanguage:"لغة التطبيق",selectCountry:"اختر الدولة",saudi:"المملكة العربية السعودية",kuwait:"الكويت",uae:"الإمارات العربية المتحدة",bahrain:"مملكة البحرين",qatar:"قطر",oman:"سلطنة عمان",egypt:"مصر",jordan:"الأردن",storeInfo:"معلومات المتجر",welcome:"مرحباً بك!",welcomeSub:"أنا {name}، المساعد الذكي لـ {store}",welcomeAsk:"كيف أقدر أساعدك اليوم؟",writeMessage:"اكتب رسالتك هنا...",poweredBy:"مدعوم بواسطة RAWBOT AI",startPrompts:["كيف أطلب؟","وش العروض؟","موقعكم وين؟","أوقات العمل؟"],deleteTitle:"حذف العميل نهائياً؟",deleteMessage:"هل أنت متأكد من حذف {name}؟ سيتم فقدان جميع البيانات.",confirmDelete:"نعم، احذف",cancel:"إلغاء"},en:{appName:"RAWBOT Operations",appSubtitle:"Smart Assistants Management Dashboard",addClient:"New Client",searchPlaceholder:"Search bot or store...",assistant:"Assistant",licenseKey:"LICENSE KEY",showKey:"Show",hideKey:"Hide",generateKey:"Generate New Key",connectInstagramBtn:"Connect Instagram",connectWhatsAppBtn:"Connect WhatsApp",connected:"Connected",notConnected:"Not Connected",testChat:"Test Chat",stats:"Statistics",delete:"Delete",edit:"Edit",listeningOn:"Listening Mode (Active)",listeningOff:"Enable Listening",clientLink:"Client Link",copyLicense:"Copy",active:"Active",inactive:"Inactive",regenerate:"Regenerate",wizardTitle:"Setup New Smart Assistant",step1:"Plan",step2:"Identity",step3:"Business",step4:"Knowledge",step5:"Review",next:"Next",back:"Back",finish:"Save & Create",planStarter:"Starter Plan",planPro:"Professional Plan",planGrowth:"Premium Plan",price15:"15 KWD",price30:"30 KWD",price50:"50 KWD",featureIG:"Instagram Only",featureIGWA:"IG + WA",feature500:"500 Conversations",feature1500:"1500 Conversations",feature3000:"3000 Conversations",featureImgBasic:"Basic Image Analysis",featureImgAdv:"Advanced Image Analysis",featureImgUltra:"Ultra Image Analysis",featureSmartData:"Smart Data & Reports",selectPlan:"Select Plan",selected:"Selected",storeName:"Store Name",storeNamePlaceholder:"Ex: Chef Restaurant",botName:"Assistant Name",botNamePlaceholder:"Ex: Sara",businessType:"Business Type",businessTypePlaceholder:"Restaurant, Furniture...",location:"Address/Location",locationPlaceholder:"Riyadh, Olaya...",workHours:"Work Hours",workHoursPlaceholder:"9 AM - 11 PM",products:"Products & Services",productsPlaceholder:"Type or upload file...",uploadData:"Upload Data (Excel, PDF, Word)",uploadHint:"Bot will analyze and learn from the file automatically.",fileProcessed:"File analyzed successfully ✅",settingsSection:"Settings",botTone:"Bot Persona",toneFriendly:"Friendly",toneFormal:"Formal",botLanguage:"Bot Language",langAr:"Arabic Only",langEn:"English Only",langBi:"Bilingual (Arabic & English)",performanceReport:"Advanced Analytics Dashboard \uD83D\uDCCA",statsSubtitle:"Comprehensive stats for {name}",totalConversations:"Total Convos",analyzedImages:"Images Analyzed",generatedImages:"Images Generated",customerSatisfaction:"Satisfaction",topQuestions:"Most Frequent Questions",topProducts:"Top Products",peakHours:"Peak Hours",peakHoursLabel:"Local Time",noData:"Not enough data",activationTitle:"Activate Bot",activationDesc:"Please enter the 12-character license key provided by the support team.",activationBtn:"Activate Bot",activationError:"Invalid license key",dashInstructionsTitle:"Bot Instructions",dashInstructionsPlaceholder:"Write general instructions for the bot here (e.g. greeting style, discount policy, handling complaints)...",dashSaveInstructions:"Save Instructions",dashUploadTitle:"Upload Store Data",dashUploadDrag:"Drag file here or click to select",dashUploadFormats:"Supported: Excel, CSV, Word, PDF",dashLastFile:"Last uploaded:",dashBehaviorTitle:"Bot Behavior",dashToneLabel:"Response Style",dashToneCurrent:"Current Style:",dashEmojiLabel:"Use Emojis",dashEmojiDesc:"Allow the bot to use emojis in responses.",dashBotMode:"Bot Status",modeActive:"ON",modeListening:"Listen",modeOff:"OFF",modeActiveDesc:"Bot replies automatically.",modeListeningDesc:"Bot learns but does not reply.",modeOffDesc:"Bot is completely stopped.",dashChannels:"Channels Status",channelActive:"Active",channelInactive:"Inactive",contactSupport:"Contact support to activate",settingsTitle:"Settings",uploadLogo:"Upload Logo",storeData:"Store & Bot Data",subInfo:"Subscription Info",clientId:"Client ID",subDate:"Start Date",expDate:"End Date",supportTitle:"Support",contactWhatsapp:"Contact via WhatsApp",sendEmail:"Send Email",faq:"FAQ",saveChanges:"Save Changes",locationUrl:"Location Link (Google Maps)",country:"Country",appLanguage:"App Language",selectCountry:"Select Country",saudi:"Saudi Arabia",kuwait:"Kuwait",uae:"UAE",bahrain:"Bahrain",qatar:"Qatar",oman:"Oman",egypt:"Egypt",jordan:"Jordan",storeInfo:"Store Info",welcome:"Welcome!",welcomeSub:"I am {name}, smart assistant for {store}",welcomeAsk:"How can I help you today?",writeMessage:"Type your message...",poweredBy:"Powered by RAWBOT AI",startPrompts:["How to order?","Offers?","Location?","Work hours?"],deleteTitle:"Delete Client Permanently?",deleteMessage:"Are you sure you want to delete {name}? All data will be lost.",confirmDelete:"Yes, Delete",cancel:"Cancel"}},r=(0,l.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,l.useState)("ar");(0,l.useEffect)(()=>{document.documentElement.lang=s,document.documentElement.dir="ar"===s?"rtl":"ltr"},[s]);let i="ar"===s?"rtl":"ltr";return(0,a.jsx)(r.Provider,{value:{language:s,setLanguage:o,toggleLanguage:()=>{o(e=>"ar"===e?"en":"ar")},t:(e,t)=>{let a=n[s][e]||e;return Array.isArray(a)?a.join(","):(t&&Object.entries(t).forEach(e=>{let[t,s]=e;a=a.replace("{".concat(t,"}"),s)}),a)},dir:i},children:t})},i=()=>{let e=(0,l.useContext)(r);if(!e)throw Error("useLanguage must be used within a LanguageProvider");return e}}},function(e){e.O(0,[425,358,919,971,23,744],function(){return e(e.s=7697)}),_N_E=e.O()}]);